language: python
group: travis_latest
dist: xenial

git:
  depth: 3
  quiet: true

python:
  - 3.8
  - 3.7
  - 3.6
  - 3.5

matrix:
  include:
  - os: osx
    language: sh
  - os: windows
    language: sh
    before_install:
      - choco install python --version 3.8.0
      - python -m pip install --upgrade pip
    env: PATH=/c/Python38:/c/Python38/Scripts:$PATH
    - choco install python3
    - export PATH="/c/Python37:/c/Python37/Scripts:$PATH"

install:
  - pip3 install --upgrade pip  # all three OSes agree about 'pip3'
  - pip3 install tox-travis

script:
  - tox -e travis

env:
  OMP_NUM_THREADS: 4
